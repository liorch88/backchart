/*! Backchart - v0.1.0 - 2014-02-14
* https://github.com/xch89820/backchart
* Copyright (c) 2014 xu.chenhui; Licensed MIT */
!function(a,b,c){"use strict";if("function"==typeof define&&define.amd)define(["jquery","../base/model"],function(a,b){return c(a,b)});else if("undefined"!=typeof module&&module.exports){var d=require("jquery"),e=require("../base/model");module.exports=c(d,e)}else for(var f=b.split("."),g=a.jQuery||a.ender||a.$||a||this,h=0;h<f.length;h++){var i=f[h];g=g[i]=h===f.length-1?c(a.jQuery||window.jQuery,g.backchart.base.model):{}}}(this,"backchart.canvasjs.model",function(a,b){var c=b.extend({_setAlias:function(a,b,c){"undefined"!=typeof a[b]&&(a[c]=a[b])},constructor:function(a,c){return c=c||{},c.parse=this.parse,b.prototype.constructor.apply(this,[a,c])},parse:function(a){return this.xField&&(this._setAlias(a,this.xField,"x"),this.timestamp&&(a.x=1e3*a.x)),this.yField&&this._setAlias(a,this.yField,"y"),this.labelField&&("string"==typeof this.labelField?this._setAlias(a,this.labelField,"label"):"function"==typeof this.labelField&&this.labelField.call(a)),a}});return c}),function(a,b,c){"use strict";if("function"==typeof define&&define.amd)define(["jquery","../base/collection"],function(a,b){return c(a,b)});else if("undefined"!=typeof module&&module.exports){var d=require("jquery"),e=require("../base/collection");module.exports=c(d,e)}else for(var f=b.split("."),g=a.jQuery||a.ender||a.$||a||this,h=0;h<f.length;h++){var i=f[h];g=g[i]=h===f.length-1?c(a.jQuery||window.jQuery,g.backchart.base.collection):{}}}(this,"backchart.canvasjs.collection",function(a,b){return b}),function(a,b,c){"use strict";if("function"==typeof define&&define.amd)define(["jquery","../base/view","backbone","underscore","CanvasJS"],function(a,b,d,e,f){return f=f||window.CanvasJS,c(a,d,e,b,f)});else if("undefined"!=typeof module&&module.exports){var d=require("jquery"),e=require("../base/view"),f=require("backbone"),g=require("underscore"),h=require("CanvasJS")||window.CanvasJS;module.exports=c(d,f,g,e,h)}else for(var i=b.split("."),j=a.jQuery||a.ender||a.$||a||this,k=0;k<i.length;k++){var l=i[k];j=j[l]=k===i.length-1?c(a.jQuery||window.jQuery,a.Backbone||window.Backbone,a._||window._,j.backchart.base.view,a.CanvasJS||window.CanvasJS):{}}}(this,"backchart.canvasjs.view",function(a,b,c,d,e){var f=d.extend({defaultRenderOptions:{type:"column"},initialize:function(b,c){d.prototype.initialize.apply(this,arguments),this.defaultOptions=a.extend(!0,{},this.defaultOptions,b),this.defaultRenderOptions=a.extend(!0,{},this.defaultRenderOptions,c)},transformData:function(b,d){var e=this,f=[],g=a.extend(!0,{},e.defaultRenderOptions,d);return b.each(function(a){var b=c.clone(a.attributes);f.push(b)}),g.dataPoints=f,g},render:function(){var a=this,b=d.prototype.render.apply(a,arguments);if(!b)return!1;a.el.id||(a.el.id=c.uniqueId("backchartel"));var f=c.clone(a.defaultOptions);f.data=[],a.eachCollection(function(b,c,d,e){c._silence||e.visible===!1||f.data.push(a.transformData(c,d))}),a.$container.empty().append(a.$el.empty()),a.elFillParents(),a.Chart=new e.Chart(a.el.id,f),a.Chart.render(),d.prototype.renderEvents.apply(a,[a,a.el,a.Chart,f])}});return f});